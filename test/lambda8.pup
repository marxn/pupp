def object = (initvalue : int)  : function
{
        def value = initvalue;

        return (selector : string) using(&value) : function
        {
               if(selector=="set")
               { 
                       return (x : int) using(&value) 
                       {
                           value = x;
                       };
               }
               if(selector=="get")
               {
                       return () using(&value):int 
                       {
                           return value;
                       };
               }

               return (){};
        };
};

def a = object(1);
print a("get")(),NL;

call a("set")(10);
print a("get")(),NL;

def b = object(2);
print b("get")(),NL;

call b("set")(12);
print b("get")(),NL;

return 0;

